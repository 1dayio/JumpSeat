"use strict";var User={id:$q(".main-title").text()};User.model={url:"api/users",validate:function(){var b=[];var e=$q("form").isFormValid();var a=$q('input[name="password"]');var d=$q(".passwordv").val();if(a.val()!=""&&$q(".password-verdict").text()=="Weak"){e=false;b.push("Password is too weak")}if(a.val()!=d){e=false;b.push("Password and Confirm Password don't match")}if(!e){if($q(".aero-error-box").length==0){$q("form").prepend('<div class="aero-error-box"><ul></ul></div>')}for(var c in b){$q(".aero-error-box ul").append("<li>"+b[c]+"</li>")}}return e},save:function(){var a=$q("form").aeroSerialize();if(User.id){User.api.update(a,User.id)}}};User.view={setEvents:function(){var a={onKeyUp:function(b){$q(b.target).pwstrength("outputErrorList")}};$q('input[name="password"]').pwstrength(a);$q(".save").off("click.patha").on("click.patha",function(){if(User.model.validate()){User.model.save()}return false});$q(".cancel").off("click.patha").on("click.patha",function(){history.go(-1);return false})}};User.api={update:function(a,c,b){a.id=User.id;Aero.send(User.model.url,a,function(d){Utils.message(AeroStep.lang.success,"success",600);if(b){b(d)}},"PUT")}};$q(function(){User.view.setEvents()});