"use strict";Chart.defaults.global={animation:true,animationSteps:20,animationEasing:"swing",showScale:true,scaleOverride:false,scaleLineColor:"rgba(0,0,0,.15)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%=value %>",scaleIntegersOnly:true,scaleBeginAtZero:false,scaleFontFamily:"'Source Sans Pro'",scaleFontSize:15,scaleFontStyle:"400",scaleFontColor:"#25303f",responsive:true,maintainAspectRatio:false,showTooltips:true,customTooltips:false,tooltipEvents:["mousemove","touchstart","touchmove"],tooltipFillColor:"#25303f",tooltipFontFamily:"'Source Sans Pro'",tooltipFontSize:15,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Source Sans Pro'",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:10,tooltipXPadding:10,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:20,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",onAnimationProgress:function(){},onAnimationComplete:function(){}};var Analytics={init:function(){Analytics.view.setEvents();Analytics.view.renderChart1()}};Analytics.model={url:"api/analytics",getChart1:function(b){var a=this;Aero.send(Analytics.model.url+"/completed_started",{},function(c){b(a.etl1(c))},"GET")},getChart2:function(b){var a=this;Aero.send(Analytics.model.url+"/times_taken",{},function(c){b(a.etl2(c))},"GET")},etl1:function(c){var b={labels:[],datasets:[{data:[]},{data:[]}]};for(var a=0;a<c.length;a++){b.labels.push(c[a]["title"]);b.datasets[0].data.push(c[a].stats.started);b.datasets[1].data.push(c[a].stats.completed);b.datasets[0].fillColor="rgb(214,225,229)";b.datasets[0].strokeColor="rgb(168, 184, 190)";b.datasets[1].fillColor="rgba(76, 215, 204, 1)";b.datasets[1].strokeColor="rgba(49, 168, 159, 1)"}return b},etl2:function(c){var b={labels:[],datasets:[{data:[]}]};for(var a=0;a<c.length;a++){b.labels.push(c[a]["title"]);b.datasets[0].data.push(c[a].stats.started);b.datasets[0].fillColor="rgb(214,225,229)";b.datasets[0].strokeColor="rgb(168, 184, 190)";b.datasets[0].highlightFill="rgba(49, 168, 159, 1)";b.datasets[0].highlightStroke="rgba(49, 168, 159, 1)"}return b}};Analytics.view={renderChart1:function(){Analytics.model.getChart1(function(b){var a=document.getElementById("chart-1").getContext("2d");new Chart(a).Line(b)})},renderChart2:function(){Analytics.model.getChart2(function(b){var a=document.getElementById("chart-2").getContext("2d");new Chart(a).Bar(b)})},setEvents:function(){var a=this;$q("a[href=#panel2]").on("click",function(){if(!$q(this).data("rendered")){a.renderChart2();$q(this).data("rendered",true)}})}};$q(function(){Analytics.init()});