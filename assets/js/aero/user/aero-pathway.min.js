"use strict";Aero.model.pathway={url:"api/pathway"};Aero.view.pathway={render:function(a,b){try{var d=a[b].title;var e=a[b].id;if(b==0){Aero.guide.getAll(function(f){Aero.view.guide.render(f)})}else{Aero.pathway.getGuides(e,function(f){f[0].path=d;f[0].pathid=e;Aero.view.guide.render(f)})}aeroStorage.setItem("aero:pathway",b);aeroStorage.setItem("aero:pathway:name",d);return true}catch(c){return false}},setEvents:function(){var a=this;$q("body").off("click.aeropath").on("click.aeropath",'.aero-carousel a:not(".aero-share")',function(){var b=$q(this).hasClass("aero-left");Aero.pathway.get(function(f){var g=null;var c=aeroStorage.getItem("aero:pathway");var e=f.length-1;var d=c?c:0;if(b){d--}else{d++}if(d<0){d=e}if(d>e){d=0}a.render(f,d)});return false})}};Aero.pathway={init:function(){Aero.view.pathway.setEvents()},get:function(c,b){if(Aero.constants.PATHWAYS){c(Aero.constants.PATHWAYS);return}var a={};a.dropEmpty=true;a.count=true;a.select=["title"];if(b){a={id:b}}Aero.send(Aero.model.pathway.url,a,function(d){d.unshift({title:AeroStep.lang.allguides});Aero.constants.PATHWAYS=d;if(c){c(d)}},"GET")},getGuides:function(a,b){if(!Aero.constants.pathway){Aero.constants.pathway={}}if(Aero.constants.pathway&&Aero.constants.pathway[a]){b(Aero.constants.pathway[a]);return}Aero.send("api/pathwaymap/by_pathway",{active:true,pathwayid:a},function(c){Aero.constants.pathway[a]=c;if(b){b(c)}},"GET")}};