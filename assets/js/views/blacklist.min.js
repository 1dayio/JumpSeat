"use strict";require(["api/blacklist"],function(){Blacklist.view={table:null,init:function(){$q("#form-wrapper").html("");Blacklist.view.render();var a={onDelete:function(b){if(b.length>0){Aero.confirm({ok:"Delete",title:"Deleting URLs",msg:"You are about to delete "+b.length+" items. Are you sure?",onConfirm:function(){Blacklist.api.del(b)}})}}};new Utils.menu("#menu",a)},render:function(){var a="blacklist/table";var b=[{width:"5%",sClass:"center"},{width:"40%"},{width:"35%"},{width:"10%",sClass:"center"},{width:"10%",sClass:"center"},{width:"10%",sClass:"tright"}];this.table=new Utils.datatable(a,b);this.setEvents()},renderForm:function(b){var a=this;Aero.tpl.get("blacklist-form.html",function(d){Blacklist.id=(b)?b.id:null;if(!b){b={}}var c=_q.template(d);Aero.confirm({ok:"save",title:"URL information",msg:c({blacklist:b}),onValidate:function(){return Blacklist.model.validate()},onConfirm:function(){Blacklist.model.save()}})})},setEvents:function(){$q("body").off("keypress.sn").on("keypress.sn",function(b){var a=b.keyCode||b.which;if(b.target.tagName=="BODY"&&a=="78"&&b.shiftKey){Blacklist.view.renderForm()}});$q(".add").off("click.patha").on("click.patha",function(){Blacklist.view.renderForm();return false});$q("body").off("click.pathd").on("click.pathd",".delete",function(){var b=$q(this).parents("div:eq(0)").data("id");var a=$q(this).parents("tr:eq(0)").find("td:eq(1)").text();Aero.confirm({ok:"delete",title:a,msg:"Are you sure you want to delete this item?",onConfirm:function(){Blacklist.api.del(b)}});return false});$q("body").off("click.pathe").on("click.pathe",".edit",function(){var a=$q(this).parents("div:eq(0)").data("id");Blacklist.api.get(function(b){Blacklist.view.renderForm(b)},a);return false})}};$q(function(){Blacklist.view.init()})});