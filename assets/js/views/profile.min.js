"use strict";require(["utils/password"],function(){var a={id:$q(".main-title").text()};a.model={url:"api/users",validate:function(){var c=[];var f=$q("form").isFormValid();var b=$q('input[name="password"]');var e=$q(".passwordv").val();if(b.val()!=""&&$q(".password-verdict").text()=="Weak"){f=false;c.push("Password is too weak")}if(b.val()!=e){f=false;c.push("Password and Confirm Password don't match")}if(!f){if($q(".aero-error-box").length==0){$q("form").prepend('<div class="aero-error-box"><ul></ul></div>')}for(var d in c){$q(".aero-error-box ul").append("<li>"+c[d]+"</li>")}}return f},save:function(){var b=$q("form").aeroSerialize();if(a.id){a.api.update(b,a.id)}}};a.view={setEvents:function(){var b={onKeyUp:function(c){$q(c.target).pwstrength("outputErrorList")}};$q('input[name="password"]').pwstrength(b);$q(".save").off("click.patha").on("click.patha",function(){if(a.model.validate()){a.model.save()}return false});$q(".cancel").off("click.patha").on("click.patha",function(){history.go(-1);return false})}};a.api={update:function(b,d,c){b.id=a.id;Aero.send(a.model.url,b,function(e){Utils.message(AeroStep.lang.success,"success",600);if(c){c(e)}},"PUT")}};$q(function(){a.view.setEvents()})});