var Utils={};Utils.words={cut:function(a,c){var b=a.substr(0,c);if(/^\S/.test(a.substr(c))){return b.replace(/\s+\S*$/,"")}return b}};Utils.menuTip={show:function(a){var d=a.data("title");var c=$q('<div class="tip" style="top:-200px"><span></span>'+d+"</div>");$q("body").append(c);var b=(a.parents("li:eq(0)").offset().top-10)+(c.outerHeight()/2);c.css({top:b,left:60,opacity:0});c.animate({opacity:1,left:"+=8"},100)},hide:function(){$q(".tip").remove()},setEvents:function(){var a=this;$q("#sidebar a").on("mouseenter",function(){a.show($q(this))}).on("mouseleave",function(){a.hide()})}};Utils.menuTip.setEvents();Utils.message=function(c,b,d){if(!b){b="default"}if(!d){d=2000}var a=$q('<div class="aero-msg-'+b+'" style="display:none">'+c+"</div>");$q("body").append(a);a.css({left:($q(window).width()/2)-(a.outerWidth()/2)}).fadeIn(750,function(){setTimeout(function(){a.fadeOut(500)},d)})};Utils.menu=function(f,e){var a=this;a.el=$q("#"+$q(f).parents("div:eq(0)").attr("id"));a.ns=f.replace("#","");a.events={onEdit:function(g){},onDelete:function(g){},onExport:function(g){},onImport:function(g){},onClone:function(g){},onFind:function(g){}};$q.extend(a.events,e);function c(){var g=[];a.el.find(".select:checked").each(function(){g.push($q(this).data("id"))});return g}function b(){a.el.find(".multi").click().addClass("disabled")}function d(){$q("body").off("click.sa"+a.ns).on("click.sa"+a.ns,".select-all",function(){if($q(".select-all").is(":checked")){$q(".select").prop("checked",true)}else{$q(".select").prop("checked",false)}a.el.find(".multi").addClass("disabled");var g=c();if(g.length>0){a.el.find(".multi").removeClass("disabled")}});$q("body").off("click.s"+a.ns).on("click.s"+a.ns,".select",function(){a.el.find(".multi").addClass("disabled");var g=c();if(g.length>0){a.el.find(".multi").removeClass("disabled")}});a.el.off("click.d"+a.ns).on("click.d"+a.ns,".multi-delete",function(){a.events.onDelete(c());b()});a.el.off("click.e"+a.ns).on("click.e"+a.ns,".multi-edit",function(){a.events.onEdit(c());b()});a.el.off("click.ex"+a.ns).on("click.ex"+a.ns,".multi-export",function(){a.events.onExport(c())});a.el.off("click.cl"+a.ns).on("click.cl"+a.ns,".multi-clone",function(){a.events.onClone(c())});a.el.off("click.e"+a.ns).on("click.e"+a.ns,".multi-find",function(){a.events.onFind(c());b()});$q(document).click(function(){if(parseInt(a.el.find(".f-dropdown").css("left"))>0){a.el.find(".multi").click()}if(parseInt($q("#userMenu .f-dropdown").css("left"))>0){$q("#userMenu .multi").click()}})}d()};Utils.card={flip:function(d,a,h){var g=d.parents(".card");var c=g.find(".front");var f=g.find(".back");if(g.length==0){h();return}var e=(function(){var k,i=3,l=document.createElement("div"),j=l.getElementsByTagName("i");while(l.innerHTML="<!--[if gt IE "+(++i)+"]><i></i>< ![endif]-->",j[0]){}return i>4?i:k}());if(!e||e>9){TweenMax.set([f,c],{backfaceVisibility:"hidden"});var b=new TimelineMax({paused:true});if(!a){TweenMax.set(f,{rotationY:-180});g.find(".back").show();b.to(c,0.5,{rotationY:180}).to(f,0.5,{rotationY:0},0);b.play()}else{b.to(c,0.5,{rotationY:0}).to(f,0.5,{rotationY:-180},0);b.play()}}else{if(!a){f.css({position:"static"}).show();c.hide()}else{c.show();f.hide()}}if(!a){setTimeout(function(){f.find("input:eq(0)").focus()},500)}else{$q("body").focus()}},remove:function(a,c){var b=a.parents("ul").find("li").length;if(b>1){a.parents("li:eq(0)").fadeOut(200,function(){$q(this).remove()})}else{if(App){App.id=null}$q(".card-wrapper:eq(0)").data("id",false);$q("input").val("");$q("textarea").val("")}},setHeight:function(a){var b=$q(a).parents(".back:eq(0)");b.height($q(a).parents("form").outerHeight())},setEvents:function(a){$q(".front").off("mouseenter.cardme").on("mouseenter.cardme",function(){var c=$q(this).outerWidth(),b=(c/2)-7;var d=$q('<div class="card-tip" style="width:'+c+'px"><span style="left:'+b+'px"></span><div>'+a+"</div></div>");$q(this).append(d)});$q(".front").off("mouseleave.cardml").on("mouseleave.cardml",function(){$q(this).find(".card-tip").remove()})}};Utils.datatable=function(a,c,g){var f;var d=a.split("/")[0];var e=(a.indexOf("?")==-1)?"?host=":"&host=";if(g){d=g}var b="/api/"+a+e+Aero.host+"&id="+g;$q("#"+d+" table tbody").html("");f=$("#"+d+" table").DataTable({pageLength:50,ajax:"/api/"+a+e+Aero.host+"&id="+g,order:[[1,"asc"]],columnDefs:[{targets:0,orderable:false},{targets:(c.length-1),orderable:false}],columns:c});f.draw();$q("#DataTables_Table_0_filter input").attr("placeholder","any column...");$q(".next").html("&rarr;");$q(".previous").html("&larr;");return f};