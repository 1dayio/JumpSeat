"use strict";var User={id:null};User.model={url:"api/users",defaults:function(){return{title:"",description:""}},validate:function(){var b=[];var e=$q("form").isFormValid();var a=$q('input[name="password"]');var d=$q(".passwordv");if(a.val()!=""&&$q(".password-verdict").text()=="Weak"){e=false;a.addClass("aero-require-error");b.push("Password is too weak")}if(a.val()!=d.val()){e=false;d.addClass("aero-require-error");b.push("Password and Confirm Password don't match")}if(!e){if($q(".aero-error-box").length==0){$q("form").prepend('<div class="aero-error-box"><ul></ul></div>')}for(var c in b){$q(".aero-error-box ul").append("<li>"+b[c]+"</li>")}if($q("#panel2-1 .aero-require-error").length==0){$q(".tabs li:eq(1) a").click()}}return e},save:function(){var a=$q("form").aeroSerialize();a.sysadmin=(a.sysadmin)?true:false;if(User.id){User.api.update(a,User.id)}else{User.api.create(a)}}};User.api={get:function(c,b){var a={};if(b){a={id:b}}Aero.send(User.model.url,a,function(d){if(c){c(d)}},"GET")},create:function(a){Aero.send(User.model.url,a,function(){User.view.table.ajax.reload()},"POST")},clone:function(a){Aero.send(User.model.url+"/clone",{id:a},function(){User.view.table.ajax.reload()},"POST")},update:function(a,c,b){a.id=c;Aero.send(User.model.url,a,function(d){User.view.table.ajax.reload();if(b){b(d)}},"PUT")},del:function(a){Aero.send(User.model.url,{id:a},function(){User.view.table.ajax.reload()},"DELETE")}};