"use strict";var RoleUserMap={roleid:null,initialized:false};RoleUserMap.model={url:"api/roleusermap",defaults:function(){return{title:"",description:""}},save:function(){var a=$q("form").aeroSerialize();RoleUserMap.api.create(a.userid)}};RoleUserMap.api={get:function(c,b){var a={};a.roleid=Rolemap.roleid;Aero.send(RoleUserMap.model.url+"/by_role",a,function(d){if(c){c(d)}},"GET")},getUsers:function(a){if(RoleUserMap.USERS){a(RoleUserMap.USERS);return}Aero.send("api/users",{select:["email","firstname","lastname"]},function(b){RoleUserMap.USERS=b;a()},"GET")},create:function(a){Aero.log("Associating with userid: "+a,"info");var b={roleid:Rolemap.roleid,userid:a};Aero.send(RoleUserMap.model.url,b,function(c){if(c){RoleUserMap.view.table.ajax.reload()}},"POST")},del:function(a){Aero.log("Deleting with userid: "+a,"info");var b={roleid:Rolemap.roleid,userid:a};Aero.send(RoleUserMap.model.url,b,function(c){RoleUserMap.view.table.ajax.reload()},"DELETE")}};