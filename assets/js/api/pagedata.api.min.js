"use strict";var Pagedata={id:null};Pagedata.model={url:"api/pagedata",defaults:function(){return{title:"",description:""}},saveConfig:function(){var b=[];var a={};$q("#config .item").each(function(){var d=$q(this).find("input[type=hidden]");if(d.length){var c={id:d.val(),type:"js",prop:$q(this).find("textarea").attr("class"),value:$q(this).find("textarea").val()};b.push(c)}});a.data=b;Pagedata.api.updateBasic(a)},validate:function(){var a=$q("form").isFormValid();return a},save:function(){var a=$q("form").aeroSerialize();if(Pagedata.model.validate()){if(Pagedata.id){Pagedata.api.update(a,Pagedata.id)}else{Pagedata.api.create(a)}}}};Pagedata.api={get:function(c,b){var a={};if(b){a={id:b}}Aero.send(Pagedata.model.url,a,function(d){if(c){c(d)}},"GET")},getBasic:function(a){Aero.send(Pagedata.model.url+"/basic",{},function(b){if(a){a(b)}},"GET")},create:function(a){Aero.send(Pagedata.model.url,a,function(){Pagedata.view.table.ajax.reload();$q("#form-wrapper").html("")},"POST")},update:function(a,c,b){a.id=c;Aero.send(Pagedata.model.url,a,function(d){Pagedata.view.table.ajax.reload();$q("#form-wrapper").html("");Utils.message(AeroStep.lang.success,"success",600);if(b){b(d)}},"PUT")},updateBasic:function(a,b){Aero.send(Pagedata.model.url,a,function(c){Pagedata.view.table.ajax.reload();$q("#form-wrapper").html("");Utils.message(AeroStep.lang.success,"success",600);if(b){b(c)}},"PUT")},del:function(a){Aero.send(Pagedata.model.url,{id:a},function(){Pagedata.view.table.ajax.reload();$q("#form-wrapper").html("")},"DELETE")}};